{
   "type":"origins:multiple",
   "resource":{
      "type":"origins:resource",
      "min":0,
      "max":1,
      "hud_render":{
         "should_render":false
      },
      "start_value":0
   },
   "set":{
      "type":"origins:entity_set",
      "action_on_add":{
         "type":"origins:target_action",
         "action":{
            "type":"origins:grant_power",
            "power":"stargazer:gateway_effects",
            "source":"stargazer:stargazer"
         }
      },
      "action_on_remove":{
         "type":"origins:target_action",
         "action":{
            "type":"origins:and",
            "actions":[
               {
                  "type":"origins:execute_command",
                  "command":"forceload remove ~ ~ ~ ~"
               },
               {
                  "type":"origins:delay",
                  "action":{
                     "type":"origins:execute_command",
                     "command":"kill @s"
                  },
                  "ticks":4
               }
            ]
         }
      }
   },
   "active":{
      "type":"origins:active_self",
      "entity_action":{
         "type":"origins:if_else",
         "condition":{
            "type":"origins:resource",
            "resource":"stargazer:stellar_gateway_resource",
            "comparison":"==",
            "compare_to":1
         },
         "if_action":{
            "type":"origins:and",
            "actions":[
               {
                  "type":"origins:change_resource",
                  "resource":"stargazer:stellar_gateway_resource",
                  "change":0,
                  "operation":"set"
               },
               {
                  "type":"origins:action_on_set",
                  "set":"stargazer:stellar_gateway_set",
                  "bientity_action":{
                     "type":"origins:and",
                     "actions":[
                        {
                           "type":"origins:actor_action",
                           "action":{
                              "type":"origins:and",
                              "actions":[
                                 {
                                    "type":"origins:execute_command",
                                    "command":"tag @s add stargazer.stellar_gateway_actor"
                                 },
                                 {
                                    "type":"origins:delay",
                                    "action":{
                                       "type":"origins:execute_command",
                                       "command":"tag @s remove stargazer.stellar_gateway_actor"
                                    },
                                    "ticks":2
                                 }
                              ]
                           }
                        },
                        {
                           "type":"origins:target_action",
                           "action":{
                              "type":"origins:delay",
                              "action":{
                                 "type":"origins:execute_command",
                                 "command":"tp @e[tag=stargazer.stellar_gateway_actor,limit=1] @s"
                              },
                              "ticks":1
                           }
                        },
                        {
                           "type":"origins:delay",
                           "action":{
                              "type":"origins:remove_from_set",
                              "set":"stargazer:stellar_gateway_set"
                           },
                           "ticks":3
                        }
                     ]
                  },
                  "limit":1,
                  "reverse":false
               },
               {
                  "type":"origins:play_sound",
                  "sound":"minecraft:block.respawn_anchor.ambient",
                  "volume":0.02,
                  "pitch":1.20
               },
               {
                  "type":"origins:execute_command",
                  "command":"playsound stargazer:stellar_gateway.arrive player @p ~ ~ ~ 1 1 1"
               },
               {
                  "type":"origins:apply_effect",
                  "effects":[
                     {
                        "effect":"minecraft:slowness",
                        "duration":200,
                        "amplifier":9,
                        "is_ambient":false,
                        "show_particles":false,
                        "show_icon":true
                     },
                     {
                        "effect":"minecraft:weakness",
                        "duration":200,
                        "amplifier":9,
                        "is_ambient":false,
                        "show_particles":false,
                        "show_icon":true
                     },
                     {
                        "effect":"minecraft:blindness",
                        "duration":200,
                        "amplifier":9,
                        "is_ambient":false,
                        "show_particles":false,
                        "show_icon":true
                     }
                  ]
               }
            ]
         },
         "else_action":{
            "type":"origins:and",
            "actions":[
               {
                  "type":"origins:change_resource",
                  "resource":"stargazer:stellar_gateway_resource",
                  "change":1,
                  "operation":"set"
               },
               {
                  "type":"origins:spawn_entity",
                  "entity_type":"minecraft:armor_stand",
                  "tag":"{Invisible:1b,Invulnerable:1b,NoGravity:1b,Small:1b,Marker:1b,DisabledSlots:4144959}",
                  "entity_action":{
                     "type":"origins:execute_command",
                     "command":"forceload add ~ ~ ~ ~"
                  },
                  "bientity_action":{
                     "type":"origins:add_to_set",
                     "set":"stargazer:stellar_gateway_set"
                  }
               },
               {
                  "type":"origins:play_sound",
                  "sound":"minecraft:block.respawn_anchor.ambient",
                  "volume":0.02,
                  "pitch":1.20
               },
               {
                  "type":"origins:play_sound",
                  "sound":"minecraft:block.respawn_anchor.set_spawn",
                  "volume":1.00,
                  "pitch":1.00
               }
            ]
         }
      },
      "cooldown":1,
      "hud_render":{
         "should_render":false
      },
      "key":{
         "key":"key.origins.primary_active",
         "continuous":false
      }
   },
   "remove_gates_on_death":{
      "type":"origins:action_on_death",
      "bientity_action":{
         "type":"origins:target_action",
         "action":{
            "type":"origins:and",
            "actions":[
               {
                  "type":"origins:change_resource",
                  "resource":"stargazer:stellar_gateway_resource",
                  "change":0,
                  "operation":"set"
               },
               {
                  "type":"origins:action_on_set",
                  "set":"stargazer:stellar_gateway_set",
                  "bientity_action":{
                     "type":"origins:remove_from_set",
                     "set":"stargazer:stellar_gateway_set"
                  },
                  "limit":1,
                  "reverse":false
               }
            ]
         }
      },
      "bientity_condition":{
         "type":"origins:target_condition",
         "condition":{
            "type":"origins:resource",
            "resource":"stargazer:stellar_gateway_resource",
            "comparison":"==",
            "compare_to":1
         }
      }
   }
}